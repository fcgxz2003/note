# Formal Analysis and Verification of Airborne Software Based on DO-333
# 基于DO-333的机载软件形式化分析与验证

## 摘要
随着机载控制系统技术的快速发展，机载控制软件的可靠性、鲁棒性和适应性已成为当务之急，因为机载控制软件的故障可能导致灾难性的财产和生命损失。DO-333是DO-178C标准的补充，该标准致力于指导在机载软件开发过程的审查和分析中应用形式化方法。然而，DO-333缺乏对如何在验证过程的每个阶段选择合适的形式化方法和工具来实现验证目标的理论指导，从而限制了它们的实际应用。**本文旨在说明验证过程中可用的形式化方法和工具，为机载软件的形式化开发和验证提供一般指导**。以空气数据计算机(ADC)软件为研究对象，采用不同的形式化方法对软件生命周期构件进行验证。通过实例说明形式化方法在实际应用中的应用，验证了形式化方法在机载软件验证中的有效性。

## 贡献
本文提出了一种基于DO-333的机载软件形式化分析与验证方法，为软件开发与验证中形式化方法的集成提供指导。它展示了空气数据计算机(ADC)软件，以说明如何应用这项研究的方法，以及如何选择正式的方法和工具来验证特定的目标。我们希望读者能从我们的案例中得到启发。本研究的贡献如下:

### 提出了机载软件的全面形式化验证方法。
根据为DO-178C定义的软件生命周期，本研究将验证活动分为三个部分:需求和设计、源代码和可执行的目标代码。所使用的方法总结了每个阶段常用的形式化分析和验证方法，并列举了一些常用的成熟的形式化模型和工具。本研究涵盖了DO-333中定义的整个A级软件验证过程，可以指导机载软件的形式化分析和验证。

### 使用ADC软件演示形式化方法的实际应用。
对于本研究中讨论的软件，所有需求都使用Event-B形式化，并且Rodin验证了合规性和可追溯性等目标。接下来是从行为模型中提取正式规范，并使用VCC注释进行编译，以便在源代码级别自动验证软件。此外，还使用了一个名为PolySpace的静态分析工具来检测源代码级别的运行时错误。为了验证二进制代码，我们分析了源代码结构的最小子集，以验证可执行目标代码到源代码的可追溯性。通过使用这种方法，可执行目标代码验证的正确性被转换为源代码级别的形式化分析。经过对ADC软件的正式验证和审查，共发现了16个错误。这表明形式化方法是一种有效的验证方法。

本文的其余部分组织如下:第2节简要介绍了适航审定标准和正式方法;第3部分描述了所使用的方法，提供了如何将形式化方法应用于软件开发过程的建议(基于DO-333);第4节说明了ADC软件的形式化验证过程，并展示了如何使用形式化方法来验证特定目标;第五部分总结了本文的工作，并讨论了进一步的研究。


1. 系统建模:形式模型是对软件进行分析、仿真、以及代码生成。
2. 形式规范:形式规范是对系统的某些属性的描述必须满足。
3. 形式化验证:形式化验证用于验证系统的形式化模型满足形式规范。
形式化验证方法通常可以分为三类:模型检查、定理证明和抽象解释。

• 模型检查探索一个正式模型的所有可能的行为，以确定是否指定财产是满意的。如果该属性不成立，则模型检查算法生成反例。模型检测可实现全自动验证，效率高。然而，随着软件规模和复杂性的增加，给数据处理带来了很大的困难建模和可能导致状态空间的爆炸。

• 定理证明将系统和规范建模为逻辑公式，并证明用演绎法证明它们之间的满足关系。它使用归纳法描述程序的行为和属性，很好地解决了“状态爆炸”问题。
问题。然而，目前定理证明还不能实现自动化。当遇到复杂的问题有大量的代码，证明工作需要借助它来完成用户的启发式。

• 抽象解释用于构建基于语义的自动分析算法，静态的，和声音确定无限状态程序的动态特性。本质抽象解释是为了计算的可行性和效率而牺牲准确性，这将限制它的应用。