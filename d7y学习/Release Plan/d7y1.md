# Release Planning

This document outlines Dragonfly process for planning and scheduling releases, so you
can familiarize yourself with the flow of work from opening an issue to seeing
it published in a release.

We aim to ship updates to production approximately every 6 months, to ensure a continuous flow of improvements to our users. 

## Release version

All release artifacts must follow [Semantic Versioning](https://semver.org). Each release milestone increments the minor version. In exceptional cases, the major version can be increased too.

We organize releases in two ways - marketing and milestones:

 - Marketing releases are what we use to represent stable version.
      - **for example: v2.1, v2.2, etc.**
 - Milestones are used to track issues and pull requests associated with an
   upcoming release.
      - **for example: v2.1.x, v2.1.0-alpha.x, v2.1.0-beta.x, etc.**

Hotfixes should also be applied directly into each of the impacted release branches. Then, the fix can be merged back into master (or main) branch or cherry-picked.

## Release milestone

Each release goes through three phases in a 26 week (6 months) period.
-	Feature definition (~ 4 weeks)
-	Feature implementation and bug fixing (~ 18 weeks)
-	Stabilization and release (~ 4 weeks)

Most significant features take at least 2 releases to become included in a release, and through the preview feature process often more. Therefore as a release comes to a close, it is not unusual to move a complex feature to the next milestone to give it time to complete the requirements of the feature lifecycle.

## Release team

At the start of a milestone a release team is chosen. The release team has the responsibility of enforcing processes to ensure the release is successfully delivered. The release team consists of the following roles:

-	**Release lead.** This role oversees enforcing the processes for a release and ensuring communication to all contributors and community on the ongoing status of the release. This role requires to have at least been a release team shadow previously.
-	**Release lead shadow(s).** This role is identical to the lead and is interchangeable. The only difference is that the lead can delegate activities to the shadow to share distribution of work. There needs to be at least one shadow for a release, preferably two.
-	**Release performance test lead.** This role is responsible for overseeing the continuous monitoring of the performance tests, ensuring new tests are added when needed and reporting on them weekly.
-	**Release long-haul test lead.** This role is responsible for overseeing the continuous monitoring of the end-to-end tests, ensuring new tests are added for new features in this release and reporting on them weekly.
-	**Build manager.** This role applies in the stabilization phase and is responsible for creating the RC releases, the final build/testing and release branches.

On assignment, the release team lead and shadow(s) are included into the Github release team group. They are responsible for;
- [ ] Creating and updating the milestone tracking issue (For example https://github.com/dapr/dapr/issues/4898) with the proposed delivery dates.
- [ ] Coordinating with maintainers to create milestones in each repo.
- [ ] Schedule and run the weekly release meetings for each phase.
- [ ] Communicating status to the community on an on-going basis.


As a reference, find the K8s release team selection [here](https://github.com/kubernetes/sig-release/blob/master/release-team/release-team-selection.md#selection-criteria)


按照 Maintainer 不同公司轮流准备 release note 等关键信息。
Release manager: 每个公司每次 Release 选出一位发布经理。